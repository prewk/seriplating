<?php

namespace Prewk\Seriplating;

use SeriplatingTestCase;

class HierarchicalTemplateIntegrationTest extends SeriplatingTestCase
{
    public function test_hierarchical_serialization()
    {
//        $t = new Seriplater(
//            new Rule
//        );
//        $hier = new HierarchicalTemplate(
//            new IdResolver
//        );
//
//        $topTemplate = [
//            "id" => $t->id("tops"),
//            "val" => $t->value(),
//            "foos" => $t->hasMany("foos"),
//            "bars" => $t->hasMany("bars"),
//        ];
//        $fooTemplate = [
//            "id" => $t->id("foos"),
//            "top_id" => $t->prop("id"),
//            "val" => $t->value(),
//        ];
//        $barTemplate = [
//            "id" => $t->id("bars"),
//            "val" => $t->value(),
//            "bazes" => $t->hasMany("bazes"),
//            "top_id" => $t->prop("id"),
//        ];
//        $bazTemplate = [
//            "id" => $t->id("bazes"),
//            "val" => $t->value(),
//            "bar_id" => $t->prop("id"),
//            "top_id" => $t->prop("top_id"),
//        ];
//
//        $data = [
//            "id" => 1,
//            "val" => "lorem",
//            "foos" => [
//                ["id" => 2, "val" => "ipsum", "top_id" => 1],
//                ["id" => 3, "val" => "foo", "top_id" => 1],
//            ],
//            "bars" => [
//                [
//                    "id" => 4,
//                    "val" => "bar",
//                    "bazes" => [
//                        ["id" => 5, "val" => "baz", "top_id" => 1],
//                    ],
//                    "top_id" => 1,
//                ]
//            ],
//        ];
    }
}